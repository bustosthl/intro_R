data <- read_csv("data/encuentro_1/ARG_elecciones.csv")
data
data
data %>%
filter(Provincia=="BUENOS AIRES")
data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido)
data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes))
data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes)
tab <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes)
tab
tab$Partido
distinct(tab$Partido)
table(tab$Partido)
order(table(tab$Partido))
(table(tab$Partido))
tab %>%
filter(Partido %in% cols_pj)
cols_pj <- c("FRENTE PARA LA VICTORIA","UNION POR LA PATRIA","FRENTE DE TODOS")
tab %>%
filter(Partido %in% cols_pj)
orden <- c("PASO 2011", "GENERALES 2011",
"PASO 2015", "GENERALES 2015","BALLOTAGE 2015",
"PASO 2019", "GENERALES 2019",
"PASO 2023", "GENERALES 2023","BALLOTAGE 2023")
data
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
Elecciones = factor(Elecciones, orden)) %>%
filter(Partido %in% cols_pj)
tab_pj
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = factor(Elecciones, orden)) %>%
filter(Partido %in% cols_pj)
tab_pj
tab_pj %>%
ggplot()
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = factor(Elecciones, orden)) %>%
filter(Partido %in% cols_pj) %>%
ungroup()
tab_pj %>%
ggplot(aes(x=Elecciones, y=participacion))
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = factor(Elecciones, orden),
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B")) %>%
filter(Partido %in% cols_pj)
tab_pj %>%
ggplot()
tab_pj %>%
ggplot(aes(x=Elecciones, y=participacion))
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=participacion))
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)) %>%
filter(Partido %in% cols_pj)
tab_pj %>%
ggplot()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=participacion))
tab_pj %>%
ggplot(aes(x=(Elecciones,orden), y=participacion))
tab_pj %>%
ggplot(aes(x=(Elecciones), y=participacion))
tab_pj
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
#Elecciones = str_replace(Elecciones, "PASO ","P"),
#Elecciones = str_replace(Elecciones, "GENERALES ","G"),
#Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
#Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj %>%
ggplot(aes(x=(Elecciones), y=participacion))
tab_pj
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
#Elecciones = str_replace(Elecciones, "GENERALES ","G"),
#Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
#Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
#Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
#Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj
cols_pj <- c("FRENTE PARA LA VICTORIA","UNION POR LA PATRIA","FRENTE DE TODOS")
orden <- c("P2011", "G2011",
"P2015", "G2015","B2015",
"P2019", "G2019",
"P2023", "G2023","B2023")
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
#Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = as.factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = string.as.factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj
cols_pj <- c("FRENTE PARA LA VICTORIA","UNION POR LA PATRIA","FRENTE DE TODOS")
orden <- c("P2011", "G2011",
"P2015", "G2015","B2015",
"P2019", "G2019",
"P2023", "G2023","B2023")
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj
tab_pj %>%
ggplot(aes(x=(Elecciones), y=participacion))
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=participacion))
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=participacion))+
geom_line()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=participacion))+
geom_point()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=participacion))+
geom_line()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=participacion))+
geom_point()+
geom_line()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=participacion))+
geom_col()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=participacion))+
geom_point()
tab_pj
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos, color=Partido))+
geom_point()
# intentamos con otro tipo de gráfico
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos, fill=Partido))+
geom_col()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, color=Partido))+
geom_point()
# intentamos con otro tipo de gráfico
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, fill=Partido))+
geom_col()
data
separate(data, Elecciones, " ")
separate(data, Elecciones, " ", "asdas")
?separate
separate(data, Elecciones, " ", intro="asdas")
separate(data, Elecciones, " ", extra="asdas")
# si se define por fuera del aes() funciona como atributo general
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per) fill=Partido)+
# si se define por fuera del aes() funciona como atributo general
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per), fill=Partido)+
geom_col()
# si se define por fuera del aes() funciona como atributo general
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per), fill="red")+
geom_col()
# si se define por fuera del aes() funciona como atributo general
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per), color="red")+
geom_col()
# si se define por fuera del aes() funciona como atributo general
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per), colour="red")+
geom_col()
# si se define por fuera del aes() funciona como atributo general
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per))+
geom_col(fill="red")
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
separate_wider_delim(Elecciones, ".", names = c("tipo_eleccion", "anio_eleccion")),
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
separate_wider_delim(Elecciones, ".", names = c("tipo_eleccion", "anio_eleccion")) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
data %>% separate_wider_delim(Elecciones, ".", names = c("tipo_eleccion", "anio_eleccion")) %>%
```
data
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
separate_wider_delim(Elecciones, " ", names = c("tipo_eleccion", "anio_eleccion")) %>%
Elecciones = str_replace(Elecciones, "PASO ","P"),
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
separate_wider_delim(Elecciones, " ", names = c("tipo_eleccion", "anio_eleccion")) %>%
Elecciones = str_replace(Elecciones, "PASO ","P"),
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
separate_wider_delim(Elecciones, " ", names = c("tipo_eleccion", "anio_eleccion")),
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
data %>% separate_wider_delim(Elecciones, " ", names = c("tipo_eleccion", "anio_eleccion")),
data %>% separate_wider_delim(Elecciones, " ", names = c("tipo_eleccion", "anio_eleccion"))
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
separate_wider_delim(Elecciones, " ", names = c("tipo_eleccion", "anio_eleccion")) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
separate_wider_delim(Elecciones, " ", names = c("tipo_eleccion", "anio_eleccion")) %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
separate_wider_delim(Elecciones, " ", names = c("tipo_eleccion", "anio_eleccion"), remove=FALSE) %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
?separate_wider_delim
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
separate_wider_delim(Elecciones, " ", names = c("tipo_eleccion", "anio_eleccion"), cols_remove=FALSE) %>%
group_by(Elecciones, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj
tab_pj <- data %>%
filter(Provincia=="BUENOS AIRES") %>%
separate_wider_delim(Elecciones, " ", names = c("tipo_eleccion", "anio_eleccion"), cols_remove=FALSE) %>%
group_by(Elecciones, tipo_eleccion, anio_eleccion, Partido) %>%
summarise(votos = sum(Votos),
electores = sum(electores),
votantes = sum(votantes)) %>%
mutate(votos_per = votos / votantes,
participacion = votantes / electores,
Elecciones = str_replace(Elecciones, "PASO ","P"),
Elecciones = str_replace(Elecciones, "GENERALES ","G"),
Elecciones = str_replace(Elecciones, "BALLOTAGE ","B"),
Elecciones = factor(Elecciones, orden)
) %>%
filter(Partido %in% cols_pj)
tab_pj
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, color=Partido))+
geom_point()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, color=Partido, shape=tipo_eleccion))+
geom_point()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, color=Partido, shape=anio_eleccion))+
geom_point()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, color=Partido, shape=anio_eleccion), size=10)+
geom_point()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, color=Partido, shape=anio_eleccion), size=100)+
geom_point()
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, color=Partido, shape=anio_eleccion))+
geom_point(, size=10)
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, color=Partido, shape=anio_eleccion))+
geom_point(size=5)
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, color=Partido, shape=anio_eleccion))+
geom_point(size=5)
# intentamos con otro tipo de gráfico
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per, fill=Partido))+
geom_col()
# si se define por fuera del aes() funciona como atributo general
tab_pj %>%
ggplot(aes(x=factor(Elecciones,orden), y=votos_per))+
geom_col(fill="red")
